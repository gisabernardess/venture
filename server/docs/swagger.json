{"openapi":"3.0.0","info":{"title":"venture // swagger docs","version":"1.0.0","description":"OpenAPI Specification to Venture RESTful API"},"tags":[{"name":"auth"},{"name":"user"}],"paths":{"/register":{"post":{"tags":["auth"],"summary":"creates a user","requestBody":{"content":{"application/json":{"schema":{"type":"object","required":["name","email","password","password_confirmation"],"properties":{"name":{"type":"string","example":"Jane Doe"},"email":{"type":"string","example":"email@domain.com"},"password":{"type":"string","format":"password"},"password_confirmation":{"type":"string","format":"password"},"role":{"type":"string","enum":["PLAYER","MODERATOR","ADMIN"]}}}}}},"responses":{"201":{"description":"user created"},"400":{"description":"validation fails"},"501":{"description":"not implemented"}}}},"/login":{"post":{"tags":["auth"],"summary":"authenticates a user","requestBody":{"content":{"application/json":{"schema":{"type":"object","required":["email","password"],"properties":{"email":{"type":"string","example":"email@domain.com"},"password":{"type":"string","format":"password"}}}}}},"responses":{"200":{"description":"login successful"},"400":{"description":"validation fails"},"404":{"description":"user not found"},"501":{"description":"not implemented"}}}},"/logout":{"post":{"tags":["auth"],"summary":"revokes a user's token","responses":{"200":{"description":"logout successful"}}}},"/reset":{"post":{"tags":["auth"],"summary":"user's reset password","requestBody":{"content":{"application/json":{"schema":{"type":"object","required":["email"],"properties":{"email":{"type":"string","example":"email@domain.com"}}}}}},"responses":{"200":{"description":"email sent"},"400":{"description":"validation fails"},"404":{"description":"user not found"},"500":{"description":"server error"}}}},"/github/callback":{"get":{"tags":["auth"],"summary":"authenticates a user using the GitHub OAuth provider","responses":{"200":{"description":"authentication successful"},"400":{"description":"authentication failed"}}}},"/discord/callback":{"get":{"tags":["auth"],"summary":"authenticates a user using the Discord OAuth provider","responses":{"200":{"description":"authentication successful"},"400":{"description":"authentication failed"}}}},"/google/callback":{"get":{"tags":["auth"],"summary":"authenticates a user using the Google OAuth provider","responses":{"200":{"description":"authentication successful"},"400":{"description":"authentication failed"}}}},"/users":{"get":{"tags":["user"],"summary":"list all users","responses":{"200":{"description":"users listed"}}}},"/users/{id}":{"get":{"tags":["user"],"summary":"finds a user by id","description":"return a single user","parameters":[{"name":"id","in":"path","description":"ID of user to return","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"user exists","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"404":{"description":"user not found"}}},"put":{"tags":["user"],"summary":"updates an existing user","description":"this can only be done by the logged user.","produces":["application/json"],"parameters":[{"name":"id","in":"path","description":"ID of user to return","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"avatarUrl":{"type":"string"},"name":{"type":"string","example":"Jane Doe"},"email":{"type":"string","example":"email@domain.com"},"password":{"type":"string","format":"password"},"role":{"type":"string","enum":["PLAYER","MODERATOR","ADMIN"]}}}}}},"responses":{"200":{"description":"user updated"},"400":{"description":"validation fails"},"404":{"description":"user not found"}}},"delete":{"tags":["user"],"summary":"deletes an existing user","description":"this can only be done by the logged user.","produces":["application/json"],"parameters":[{"name":"id","in":"path","description":"the id that needs to be deleted","required":true,"schema":{"$ref":null}}],"responses":{"200":{"description":"user deleted"},"404":{"description":"user not found"}}}}},"components":{"schemas":{"ApiToken":{"description":"Opaque Access Token to authenticate the user requests","type":"object","properties":{"id":{"type":"integer","format":"int64"},"userId":{"type":"integer","format":"int64"},"name":{"type":"string"},"type":{"type":"string"},"token":{"type":"string","format":"byte"},"expiresAt":{"type":"string","format":"date-time"},"createdAt":{"type":"string","format":"date-time"}},"required":["id","userId","name","type","token","createdAt"]},"User":{"description":"Representation of a user","type":"object","properties":{"id":{"type":"integer","format":"int64"},"avatarUrl":{"type":"string"},"name":{"type":"string","example":"Jane Doe"},"email":{"type":"string","example":"email@domain.com"},"password":{"type":"string","format":"password"},"role":{"type":"string","enum":["PLAYER","MODERATOR","ADMIN"]},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}},"required":["id","email","password","role"]}}}}